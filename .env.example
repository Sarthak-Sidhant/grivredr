# Grivredr Configuration
# Copy this file to .env and fill in your values

# ============================================================
# AI PROVIDER API KEYS
# ============================================================
# At least one of these is required

# Anthropic API Key (for Claude models via MegaLLM)
api_key=your_anthropic_api_key_here
# Alternative: ANTHROPIC_API_KEY=your_anthropic_api_key_here

# OpenAI API Key (for GPT models)
OPENAI_API_KEY=your_openai_api_key_here

# Google Gemini API Key
GEMINI_API_KEY=your_gemini_api_key_here

# OpenRouter API Key (for access to multiple models)
OPENROUTER_API_KEY=your_openrouter_api_key_here

# ============================================================
# AI PROVIDER ENDPOINTS (Optional)
# ============================================================
# Override default endpoints if needed

# Anthropic/MegaLLM endpoint
ANTHROPIC_API_URL=https://ai.megallm.io

# ============================================================
# BROWSER CONFIGURATION
# ============================================================
# Browser type: chromium, firefox, webkit
BROWSER_TYPE=chromium

# Run browser in headless mode (true/false)
BROWSER_HEADLESS=true

# Browser viewport dimensions
BROWSER_VIEWPORT_WIDTH=1920
BROWSER_VIEWPORT_HEIGHT=1080

# Browser timeout in milliseconds
BROWSER_TIMEOUT=30000

# ============================================================
# TASK MODEL CONFIGURATION
# ============================================================
# Configure which model to use for each task type
# Format: TASK_PROVIDER__MODEL_NAME
# Providers: anthropic, openai, gemini, openrouter

# Form Discovery (analyzing form structure)
FORM_DISCOVERY_PROVIDER=anthropic
FORM_DISCOVERY_MODEL=claude-sonnet-4.5
FORM_DISCOVERY_TEMPERATURE=0.5

# JavaScript Analysis (analyzing dynamic behavior)
JS_ANALYSIS_PROVIDER=anthropic
JS_ANALYSIS_MODEL=claude-sonnet-4.5
JS_ANALYSIS_TEMPERATURE=0.3

# Testing (validating discovered schema)
TESTING_PROVIDER=anthropic
TESTING_MODEL=claude-sonnet-4.5
TESTING_TEMPERATURE=0.4

# Code Generation (generating scraper code)
CODE_GENERATION_PROVIDER=anthropic
CODE_GENERATION_MODEL=claude-opus-4
CODE_GENERATION_TEMPERATURE=0.2

# Validation (validating generated code)
VALIDATION_PROVIDER=anthropic
VALIDATION_MODEL=claude-sonnet-4.5
VALIDATION_TEMPERATURE=0.3

# Healing (fixing issues in generated code)
HEALING_PROVIDER=anthropic
HEALING_MODEL=claude-opus-4
HEALING_TEMPERATURE=0.2

# ============================================================
# CACHE CONFIGURATION
# ============================================================
# Enable AI response caching
ENABLE_AI_CACHE=true

# Cache directory
CACHE_DIR=./data/ai_cache

# ============================================================
# TRAINING CONFIGURATION
# ============================================================
# Maximum retry attempts
MAX_RETRIES=3

# Enable validation
VALIDATION_ENABLED=true

# Save screenshots during training
SAVE_SCREENSHOTS=true

# Screenshot directory
SCREENSHOT_DIR=./outputs/screenshots

# ============================================================
# OUTPUT CONFIGURATION
# ============================================================
# Output directory for generated scrapers
OUTPUT_DIR=./outputs/generated_scrapers

# Training session data directory
TRAINING_SESSION_DIR=./data/training_sessions

# ============================================================
# LOGGING CONFIGURATION
# ============================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (leave empty to disable file logging)
LOG_FILE=./logs/grivredr.log

# ============================================================
# DISCOVERY STRATEGY
# ============================================================
# Discovery strategy: playwright, browser_use, hybrid
DISCOVERY_STRATEGY=hybrid

# Use browser-use first (AI-first approach)
BROWSER_USE_FIRST=false

# Allow fallback to AI if playwright fails
BROWSER_USE_FALLBACK=true

# ============================================================
# ADVANCED OPTIONS
# ============================================================
# Parallel processing (experimental)
ENABLE_PARALLEL=false

# Max parallel workers
MAX_PARALLEL_WORKERS=3

# Debug mode (verbose logging)
DEBUG=false

# ============================================================
# EXAMPLES
# ============================================================
# Example: Use OpenAI for code generation, Anthropic for everything else
# CODE_GENERATION_PROVIDER=openai
# CODE_GENERATION_MODEL=gpt-4-turbo
# CODE_GENERATION_TEMPERATURE=0.2

# Example: Use OpenRouter for cost-effective testing
# TESTING_PROVIDER=openrouter
# TESTING_MODEL=anthropic/claude-sonnet-4.5
# TESTING_TEMPERATURE=0.4

# Example: Use Firefox for browser automation
# BROWSER_TYPE=firefox
# BROWSER_HEADLESS=false
